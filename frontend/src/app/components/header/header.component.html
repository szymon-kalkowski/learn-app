<div class="navbar bg-base-100 border-b-2">
  <div class="navbar-start w-[220px]">
    <div class="dropdown">
      <div tabindex="0" role="button" class="btn btn-ghost lg:hidden">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          class="inline-block w-5 h-5 stroke-current"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="3"
            d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"
          ></path>
        </svg>
      </div>
      <ul
        tabindex="0"
        class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-60 h-80"
      >
        @if (user) {
        <div class="flex py-2 border-b-2 mb-2">
          <img
            [src]="user.photo || 'assets/images/avatar.svg'"
            class="w-[50px] h-[50px] rounded-full mr-2"
          />
          <div>
            <div class="font-bold text-md">
              {{ user.firstName }} {{ user.lastName }}
            </div>
            <div class="text-neutral">{{ user.email }}</div>
          </div>
        </div>
        } @for (link of links; track $index) {
        <li>
          <a [routerLink]="link.path" routerLinkActive="link-active">{{
            link.label
          }}</a>
        </li>
        } @if (user) {
        <li><a [routerLink]="'my-account'">My Account</a></li>
        <li><a>Night mode</a></li>
        } @else {
        <li><a routerLink="/login">Sign in</a></li>
        <li><a routerLink="/join-us">Join us</a></li>
        } @if (user) {
        <div class="border-t-2 mt-auto pt-2">
          <li (click)="logout()"><a>Sing out</a></li>
        </div>
        }
      </ul>
    </div>
    <div class="btn btn-ghost text-2xl" routerLink="/">
      <img src="assets/images/logo.svg" class="w-[45px]" />
      <div>learn</div>
    </div>
  </div>
  <div class="navbar-center hidden lg:flex">
    <ul class="menu menu-horizontal px-1">
      @for (link of links; track $index) {
      <li>
        <a [routerLink]="link.path" routerLinkActive="link-active">{{
          link.label
        }}</a>
      </li>
      }
    </ul>
  </div>
  <div class="navbar-end hidden lg:flex w-full">
    @if (user) {
    <div class="mr-2 font-bold text-md">
      {{ user.firstName }} {{ user.lastName }}
    </div>
    <div class="dropdown dropdown-end">
      <img
        tabindex="0"
        role="button"
        class="rounded-full w-[50px] h-[50px]"
        [src]="user.photo || 'assets/images/avatar.svg'"
      />
      <ul
        tabindex="0"
        class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52 h-60"
      >
        <div class="text-neutral text-center border-b-2 py-2 mb-2">
          {{ user.email }}
        </div>
        <div>
          <li><a [routerLink]="'my-account'">My Account</a></li>
          <li><a>Night mode</a></li>
        </div>
        <div class="mt-auto pt-2 border-t-2">
          <li (click)="logout()"><a>Sing out</a></li>
        </div>
      </ul>
    </div>
    }@else{
    <a class="btn btn-ghost mr-2" routerLink="/login">Sign in</a>
    <a class="btn btn-primary" routerLink="/join-us">Join us</a>
    }
  </div>
</div>
